<?php
include('gsp.php');
$map = new GeoSpace;
$gsp_src = 'sample/LVOSM8.jpg';
$gsp_map = 'sample/LVOSM8.kml';
$geodata = array(
 "01" => array(
  "type" => "Point",
  "coordinates" => "48.547,45.996,0",
 ),
 "01u" => array(
  "type" => "Point",
  "coordinates" => "42.016042,50.801884,0",
 ),
 "02" => array(
  "type" => "LineString",
  "coordinates" => "44.2163660,49.0331470,0 44.2166230,49.0334840,0 44.2168810,49.0337660,0 44.2171380,49.0341600,0 44.2172240,49.0343280,0 44.2176530,49.0346100,0 44.2179110,49.0350040,0 44.2183400,49.0352850,0 44.2187690,49.0355100,0 44.2191980,49.0358480,0 44.2194560,49.0362980,0 44.2201420,49.0364100,0 44.2205720,49.0364100,0 44.2211720,49.0365230,0 44.2214300,49.0367480,0 44.2216870,49.0370850,0 44.2218590,49.0374790,0 44.2218590,49.0378170,0 44.2214300,49.0380980,0 44.2210010,49.0382110,0 44.2204000,49.0383230,0 44.2196270,49.0385480,0",
 ),
 "03" => array(
  "type" => "Polygon",
  "coordinates" => "43.498657,49.49437,0 43.499193,49.494106,0 43.498785,49.493799,0 43.498249,49.494078,0 43.498657,49.49437,0",
 ),
 "04" => array(
  "type" => "Polygon",
  "coordinates" => "43.3337381,49.7126418,0 44.6630854,49.9613393,0 45.1574707,49.6841373,0 44.7290034,48.9949781,0 44.4763176,48.5009422,0 44.0368640,48.3766694,0 43.5974103,49.0383351,0 43.3337381,49.7126418,0",
 )
);
$dest = 'map/';

$map_name='testmap.jpg';

$date=date("F j, Y, g:i a");
$name = 'Some new map by GeoSpace PHP class: '.$date;

$font = 'fonts/ARIAL.TTF';
$fsize=14;

$map->gsp_src = $gsp_src;
$map->gsp_map = $gsp_map;
$map->geodata = $geodata;

$map->gsp_getsize($gsp_src,$gsp_map);

$map->gsp_drowmap($name,$font,$fsize,$gsp_src,$geodata,$dest,$map_name,20,3);
print('<img src="'.$dest.$map_name.'">');
?>